syntax = "proto3";

package hiit;

option go_package = "hiit/";

message Empty{}

message Data {
  string state = 1;
  int32 count = 2;
  string interval = 3;
}

message DataSession {
  Data data = 1;
  Session session = 2;
}

message RoutineChange {
  string routine = 1;
}

message Session {
  string id = 1;
  string exercise = 2;
}

service HIITService {
  rpc Sub(stream RoutineChange) returns (stream Data);
  rpc Pub(DataSession) returns (Empty);

}
